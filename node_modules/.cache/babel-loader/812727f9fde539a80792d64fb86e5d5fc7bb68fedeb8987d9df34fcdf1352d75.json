{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/thomas/Documents/battleship/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import styled,{css}from'styled-components';import{v4 as uuidv4}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";var Board=function Board(_ref){var gameboard=_ref.gameboard,owner=_ref.owner,enemy=_ref.enemy,onFieldClick=_ref.onFieldClick;var loadFields=function loadFields(){var fields=[];var _loop=function _loop(row){var _loop2=function _loop2(column){var field=gameboard.board[row][column];var status='default';if(field){if(owner.name!=='Computer')status='ship';if(enemy.hasAlreadyHit(row,column))status='hit';}else{if(gameboard.missedShots[row][column])status='missed';}var fieldComponent=/*#__PURE__*/_jsx(Field,{});if(owner.name==='Computer'){fieldComponent=/*#__PURE__*/_jsx(Field,{status:status,owner:owner,onClick:function onClick(){return onFieldClick(row,column);}},uuidv4());}else{fieldComponent=/*#__PURE__*/_jsx(Field,{status:status,owner:owner},uuidv4());}fields.push(fieldComponent);};for(var column=0;column<gameboard.board[row].length;column++){_loop2(column);}};for(var row=0;row<gameboard.board.length;row++){_loop(row);}return fields;};return/*#__PURE__*/_jsx(BoardWrapper,{children:loadFields()});};var BoardWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: grid;\\n  width: 40rem;\\n  height: 40rem;\\n  grid-template-columns: repeat(10, 1fr);\\n  grid-template-rows: repeat(10, 1fr);\\n  border: 1px solid \",\";\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.colors.dark.primary;});var Field=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  border: 1px solid \",\";\\n\\n  \",\"\\n\\n  \",\"\\n  \\n  \",\"\\n\\n  \",\"\\n\"])),function(_ref3){var theme=_ref3.theme;return theme.colors.dark.primary;},function(_ref4){var status=_ref4.status;return status==='default'&&css(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n      background-color: \",\";\\n\\n      \",\"\\n    \"])),function(_ref5){var theme=_ref5.theme;return theme.colors.light.primary;},function(_ref6){var owner=_ref6.owner;return owner.name==='Computer'&&css(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n          cursor: pointer;\\n\\n          &:hover {\\n            background-color: \",\";\\n          }\\n        \"])),function(_ref7){var theme=_ref7.theme;return theme.colors.light.secondary;});});},function(_ref8){var status=_ref8.status;return status==='ship'&&css(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n      background-color: \",\";\\n    \"])),function(_ref9){var theme=_ref9.theme;return theme.colors.dark.secondary;});},function(_ref10){var status=_ref10.status;return status==='missed'&&css(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n      background-color: \",\";\\n    \"])),function(_ref11){var theme=_ref11.theme;return theme.colors.green;});},function(_ref12){var status=_ref12.status;return status==='hit'&&css(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n      background-color: \",\";\\n    \"])),function(_ref13){var theme=_ref13.theme;return theme.colors.red;});});export default Board;","map":{"version":3,"names":["styled","css","v4","uuidv4","jsx","_jsx","Board","_ref","gameboard","owner","enemy","onFieldClick","loadFields","fields","_loop","row","_loop2","column","field","board","status","name","hasAlreadyHit","missedShots","fieldComponent","Field","onClick","push","length","BoardWrapper","children","div","_templateObject","_taggedTemplateLiteral","_ref2","theme","colors","dark","primary","_templateObject2","_ref3","_ref4","_templateObject3","_ref5","light","_ref6","_templateObject4","_ref7","secondary","_ref8","_templateObject5","_ref9","_ref10","_templateObject6","_ref11","green","_ref12","_templateObject7","_ref13","red"],"sources":["/home/thomas/Documents/battleship/src/components/Game/Board.tsx"],"sourcesContent":["import styled, { css } from 'styled-components'\nimport Gameboard from '../../factories/Gameboard'\nimport Player from '../../factories/Player'\nimport { v4 as uuidv4 } from 'uuid'\n\ninterface Props {\n  gameboard: Gameboard\n  owner: Player\n  enemy: Player\n  onFieldClick?: (positionX: number, positionY: number) => void\n}\n\nconst Board = ({ gameboard, owner, enemy, onFieldClick }: Props) => {\n  const loadFields = () => {\n    const fields = []\n    for (let row = 0; row < gameboard.board.length; row++) {\n      for (let column = 0; column < gameboard.board[row].length; column++) {\n        const field = gameboard.board[row][column]\n        let status = 'default'\n        if (field) {\n          if (owner.name !== 'Computer') status = 'ship'\n          if (enemy.hasAlreadyHit(row, column)) status = 'hit'\n        } else {\n          if (gameboard.missedShots[row][column]) status = 'missed'\n        }\n\n        let fieldComponent = <Field></Field>\n        if (owner.name === 'Computer') {\n          fieldComponent = (\n            <Field\n              key={uuidv4()}\n              status={status}\n              owner={owner}\n              onClick={() => onFieldClick(row, column)}\n            />\n          )\n        } else {\n          fieldComponent = (\n            <Field key={uuidv4()} status={status} owner={owner} />\n          )\n        }\n        fields.push(fieldComponent)\n      }\n    }\n    return fields\n  }\n\n  return <BoardWrapper>{loadFields()}</BoardWrapper>\n}\n\nconst BoardWrapper = styled.div`\n  display: grid;\n  width: 40rem;\n  height: 40rem;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n  border: 1px solid ${({ theme }) => theme.colors.dark.primary};\n`\n\ninterface IField {\n  status?: string\n  owner?: Player\n}\n\nconst Field = styled.div<IField>`\n  border: 1px solid ${({ theme }) => theme.colors.dark.primary};\n\n  ${({ status }) =>\n    status === 'default' &&\n    css`\n      background-color: ${({ theme }) => theme.colors.light.primary};\n\n      ${({ owner }: IField) =>\n        owner.name === 'Computer' &&\n        css`\n          cursor: pointer;\n\n          &:hover {\n            background-color: ${({ theme }) => theme.colors.light.secondary};\n          }\n        `}\n    `}\n\n  ${({ status }) =>\n    status === 'ship' &&\n    css`\n      background-color: ${({ theme }) => theme.colors.dark.secondary};\n    `}\n  \n  ${({ status }) =>\n    status === 'missed' &&\n    css`\n      background-color: ${({ theme }) => theme.colors.green};\n    `}\n\n  ${({ status }) =>\n    status === 'hit' &&\n    css`\n      background-color: ${({ theme }) => theme.colors.red};\n    `}\n`\n\nexport default Board\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}